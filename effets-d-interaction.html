<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Effets d’interaction dans un modèle</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="robots" content="index, follow">
<link rel="stylesheet" href="./include/analyse-R.css" />
<script type="text/javascript" src="./libs/zeroclipboard-2.2.0/ZeroClipboard.js"></script>
<link rel="stylesheet" href="./libs/colorbox-1.6.1/colorbox.css" />
<script type="text/javascript" src="./libs/colorbox-1.6.1/jquery.colorbox-min.js"></script>
<!--- favicon --->
<link rel="apple-touch-icon" sizes="57x57" href="./images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="./images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="./images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="./images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="./images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="./images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="./images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="./images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="./images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="./images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="./images/favicon/favicon-16x16.png">
<link rel="manifest" href="./images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="./images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121727005-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121727005-1');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<nav>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href=".">analyse-R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="manipuler" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Manipuler <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_manipuler">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Prise en main</li>
                  <li><a href="presentation-et-philosophie.html">Présentation et Philosophie</a></li>
                  <li><a href="installation-de-R-et-RStudio.html">Installation de <strong>R</strong> et <strong>RStudio</strong></a></li>
                  <li><a href="premier-contact.html">Premier contact</a></li>
                  <li><a href="premier-travail-avec-les-donnees.html">Premier travail avec des données</a></li>
                  <li><a href="extensions.html">Extensions (installation, mise à jour)</a></li>
                  <li><a href="introduction-au-tidyverse.html">Introduction au <strong>tidyverse</strong></a></li>
                  <li><a href="vecteurs-indexation-et-assignation.html">Vecteurs, indexation et assignation</a></li>
                  <li><a href="listes-et-tableaux-de-donnes.html">Listes et Tableaux de données</a></li>
                  <li><a href="facteurs-et-vecteurs-labellises.html">Facteurs et vecteurs labellisés</a></li>
                  <li><a href="organiser-ses-fichiers.html">Organiser ses fichiers</a></li>
                  <li><a href="import-de-donnees.html">Import de données</a></li>
                  <li><a href="ou-trouver-de-l-aide.html">Où trouver de l'aide ?</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Manipulation de données</li>
  		            <li><a href="visualiser-ses-donnees.html">Visualiser ses données</a></li>
  		            <li><a href="recodage.html">Recodage de variables</a></li>
                  <li><a href="manipuler-les-donnees-avec-dplyr.html">Manipuler les données avec <strong>dplyr</strong></a></li>
                  <li><a href="manipulations-avancees-avec-data-table.html">Manipulations avancées avec <strong>data.table</strong></a></li>
                  <li><a href="tris.html">Tris</a></li>
                  <li><a href="sous-ensembles.html">Sous-ensembles</a></li>
                  <li><a href="fusion-de-tables.html">Fusion de tables</a></li>
                  <li><a href="gestion-des-dates.html">Gestion des dates</a></li>
                  <li><a href="fonctions-a-fenetre.html">Fonctions à fenêtre</a></li>
                  <li><a href="manipuler-du-texte.html">Manipuler du texte avec <strong>stringr</strong></a></li>
                  <li><a href="reorganiser-ses-donnees-avec-tidyr.html">Réorganiser ses données avec <strong>tidyr</strong></a></li>
                  <li><a href="scraping.html">Scraping</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Exporter</li>
                  <li><a href="export-de-donnees.html">Export de données</a></li>
                  <li><a href="export-de-graphiques.html">Export de graphiques</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="analyser" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Analyser <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_analyser">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques introductives</li>
                  <li><a href="statistique-univariee.html">Statistique univariée</a></li>
                  <li><a href="statistique-bivariee.html">Statistique bivariée</a></li>
                  <li><a href="intro-ggplot2.html">Introduction à <strong>ggplot2</strong>, la grammaire des graphiques</a></li>
                  <li><a href="graphiques-bivaries-ggplot2.html">Graphiques univariés et bivariés avec <strong>ggplot2</strong></a></li>
                  <li><a href="donnees-ponderees.html">Données pondérées</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques intermédiaires</li>
  		            <li><a href="intervalles-de-confiance.html">Intervalles de confiance</a></li>
                  <li><a href="comparaisons-moyennes-et-proportions.html">Comparaisons (moyennes et proportions)</a></li>
                  <li><a href="definir-un-plan-d-echantillonnage-complexe.html">Définir un plan d'échantillonnage complexe</a></li>
                  <li class="dev"><a href="regression-lineaire.html">Régression linéaire</a></li>
                  <li><a href="regression-logistique.html">Régression logistique binaire, multinomiale et ordinale</a></li>
                  <li><a href="analyse-des-correspondances-multiples.html">Analyse des correspondances multiples (ACM)</a></li>
                  <li><a href="classification-ascendante-hierarchique.html">Classification ascendante hiérarchique (CAH)</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Statistiques avancées</li>
                  <li><a href="effets-d-interaction.html">Effets d'interaction dans un modèle</a></li>
                  <li><a href="multicolinearite.html">Multicolinéarité dans la régression</a></li>
                  <li><a href="analyse-de-survie.html">Analyse de survie</a></li>
                  <li><a href="analyse-de-sequences.html">Analyse de séquences</a></li>
                  <li class="dev"><a href="modeles-a-effets-aleatoires.html">Modèles à effets aléatoires (modèles mixtes et GEE)</a></li>
                  <li><a href="trajectoires-de-soins.html">Trajectoires de soins&nbsp;: un exemple de données longitudinales</a></li>
                  <li><a href="analyse-de-reseaux.html">Analyse de réseaux</a></li>
                  <li><a href="analyse-spatiale.html">Analyse spatiale</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="approfondir" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Approfondir <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_approfondir">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Graphiques</li>
                  <li><a href="ggplot2.html">ggplot2 et la grammaire des graphiques</a></li>
                  <li><a href="combiner-plusieurs-graphiques.html">Combiner plusieurs graphiques</a></li>
                  <li><a href="graphiques-interactifs.html">Graphiques interactifs</a></li>
                  <li><a href="lattice-graphiques-et-formules.html"><strong>lattice</strong> : graphiques et formules</a></li>
                  <li><a href="cartes.html">Cartes</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Programmation</li>
  		            <li><a href="conditions-et-comparaisons.html">Conditions et comparaisons</a></li>
                  <li><a href="formules.html">Formules</a></li>
                  <li><a href="structures-conditionnelles.html">Structures conditionnelles</a></li>
                  <li><a href="vectorisation.html">Vectorisation</a></li>
                  <li><a href="expressions-regulieres.html">Expressions régulières</a></li>
                  <li class="dev"><a href="ecrire-ses-propres-fonctions.html">Écrire ses propres fonctions</a></li>
                  <li><a href="rmarkdown-les-rapports-automatises.html"><strong>R Markdown</strong> : les rapports automatisés</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Divers</li>
                  <li class="dev"><a href="formatter-nombres.html">Mettre en forme des nombres</a></li>
                  <li><a href="calculer-un-age.html">Calculer un âge</a></li>
                  <li class="dev"><a href="diagramme-de-lexis.html">Diagramme de Lexis</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="index" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Index <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu" id="menu_naviguer">
            <li><a href="index-des-concepts.html">Index des concepts</a></li>
            <li><a href="index-des-fonctions.html">Index des fonctions</a></li>
            <li><a href="index-des-extensions.html">Index des extensions</a></li>
          </ul>
        </li>
        <li><a href="analyse-R.pdf">PDF</a></li>
      </ul>
    <form id="rechercher" class="navbar-form navbar-right" role="search" style="padding-top: 5px;" method="get" action="https://tontonroger.org/">
      <div class="form-group">
        <input name="q" type="text" class="form-control input-sm" placeholder="Rechercher">
      </div>
      <button type="submit" class="btn btn-default btn-sm" name="Rechercher">
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </button>
    </form>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
</nav>

<div class="row">

<a href="https://github.com/larmarange/analyse-R"><img style="position: absolute; top: 60px; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Contribuer sur GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>

<div class="col-sm-9" role="main">
<article>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Effets d’interaction dans un modèle</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#exemple-dinteraction">Exemple d’interaction</a></li>
<li><a href="#un-second-exemple-dinteraction">Un second exemple d’interaction</a></li>
<li><a href="#explorer-les-differentes-interactions-possibles">Explorer les différentes interactions possibles</a></li>
<li><a href="#pour-aller-plus-loin">Pour aller plus loin</a></li>
</ul>
</div>

<p>Dans un modèle statistique classique, on fait l’hypothèse implicite que chaque variable explicative est indépendante des autres. Cependant, cela ne se vérifie pas toujours. Par exemple, l’effet de l’âge peut varier en fonction du sexe. Il est dès lors nécessaire de prendre en compte dans son modèle les <dfn data-index="effet d'interaction">effets d’interaction</dfn><dfn data-index="interaction"></dfn><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<div id="exemple-dinteraction" class="section level2">
<h2>Exemple d’interaction</h2>
<p>Reprenons le modèle que nous avons utilisé dans le chapitre sur la <a href="regression-logistique.html">régression logistique</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(questionr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">data</span>(hdv2003)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">d &lt;-<span class="st"> </span>hdv2003</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">d<span class="op">$</span>sexe &lt;-<span class="st"> </span><span class="kw">relevel</span>(d<span class="op">$</span>sexe, <span class="st">&quot;Femme&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">d<span class="op">$</span>grpage &lt;-<span class="st"> </span><span class="kw">cut</span>(d<span class="op">$</span>age, <span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">65</span>, <span class="dv">99</span>), <span class="dt">right =</span> <span class="ot">FALSE</span>, <span class="dt">include.lowest =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">d<span class="op">$</span>etud &lt;-<span class="st"> </span>d<span class="op">$</span>nivetud</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">levels</span>(d<span class="op">$</span>etud) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Primaire&quot;</span>, <span class="st">&quot;Primaire&quot;</span>, <span class="st">&quot;Primaire&quot;</span>, <span class="st">&quot;Secondaire&quot;</span>, <span class="st">&quot;Secondaire&quot;</span>, </a>
<a class="sourceLine" id="cb1-8" data-line-number="8">  <span class="st">&quot;Technique/Professionnel&quot;</span>, <span class="st">&quot;Technique/Professionnel&quot;</span>, <span class="st">&quot;Supérieur&quot;</span>)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">d<span class="op">$</span>etud &lt;-<span class="st"> </span><span class="kw">addNAstr</span>(d<span class="op">$</span>etud, <span class="st">&quot;Manquant&quot;</span>)</a></code></pre></div>
<p>Nous avions alors exploré les facteurs associés au fait de pratiquer du sport.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">mod &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">odds.ratio</span>(mod)</a></code></pre></div>
<pre><code>Waiting for profiling to be done...</code></pre>
<pre><code>                                      OR   2.5 %  97.5 %         p    
(Intercept)                      0.45006 0.23770  0.8473 0.0137076 *  
sexeHomme                        1.55223 1.26143  1.9120 3.389e-05 ***
grpage[25,45)                    0.65675 0.41944  1.0275 0.0652358 .  
grpage[45,65)                    0.33776 0.21153  0.5381 4.969e-06 ***
grpage[65,99]                    0.25124 0.14639  0.4288 4.531e-07 ***
etudSecondaire                   2.58719 1.76527  3.8328 1.476e-06 ***
etudTechnique/Professionnel      2.85552 1.98049  4.1729 3.237e-08 ***
etudSupérieur                    6.63042 4.55179  9.7951 &lt; 2.2e-16 ***
etudManquant                     8.58853 4.53478 16.5885 7.419e-11 ***
heures.tv                        0.88611 0.82902  0.9458 0.0003188 ***
religPratiquant occasionnel      0.97833 0.67588  1.4199 0.9078331    
religAppartenance sans pratique  0.99333 0.70630  1.4020 0.9694337    
religNi croyance ni appartenance 0.80623 0.55242  1.1782 0.2646171    
religRejet                       0.68144 0.38688  1.1890 0.1797562    
religNSP ou NVPR                 0.91963 0.39967  2.0216 0.8384696    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Selon les résultats de notre modèle, les hommes pratiquent plus un sport que les femmes et la pratique du sport diminue avec l’âge. Pour représenter les effets différentes variables, on peut avoir recours à la fonction <code data-pkg="effects" data-rdoc="effects">allEffects</code> de l’extension <code class="pkg">effects</code>.</p>
<figure>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(effects)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-3-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle
</figcaption>
</figure>
<p>Cependant, l’effet de l’âge est-il le même selon le sexe ? Nous allons donc introduire une interaction entre l’âge et le sexe dans notre modèle, ce qui sera représenté par <code>sexe * grpage</code> dans l’équation du modèle.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">mod2 &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">*</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<p>Commençons par regarder les effets du modèle.</p>
<figure>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod2))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-5-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Sur ce graphique, on voit que l’effet de l’âge sur la pratique d’un sport est surtout marqué chez les hommes. Chez les femmes, le même effet est observé, mais dans une moindre mesure et seulement à partir de 45 ans.</p>
<p>On peut tester si l’ajout de l’interaction améliore significativement le modèle avec <code data-pkg="stats">anova</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">anova</span>(mod2, <span class="dt">test =</span> <span class="st">&quot;Chisq&quot;</span>)</a></code></pre></div>
<pre><code>Analysis of Deviance Table

Model: binomial, link: logit

Response: sport

Terms added sequentially (first to last)

            Df Deviance Resid. Df Resid. Dev  Pr(&gt;Chi)    
NULL                         1994     2609.2              
sexe         1   16.211      1993     2593.0 5.668e-05 ***
grpage       3  216.268      1990     2376.7 &lt; 2.2e-16 ***
etud         4  152.732      1986     2224.0 &lt; 2.2e-16 ***
heures.tv    1   13.588      1985     2210.4 0.0002276 ***
relig        5    4.232      1980     2206.2 0.5165401    
sexe:grpage  3   13.030      1977     2193.1 0.0045714 ** 
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Jetons maintenant un oeil aux coefficients du modèle. Pour rendre les choses plus visuelles, nous aurons recours à <code data-pkg="GGally">ggcoef</code> de l’extension <code class="pkg">GGally</code>.</p>
<figure>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">library</span>(GGally)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw">ggcoef</span>(mod2, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-7-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Concernant l’âge et le sexe, nous avons trois séries de coefficients : trois coefficients (<em>grpage[25,45)</em>, <em>grpage[45,65)</em> et <em>grpage[65,99]</em>) qui correspondent à l’effet global de la variable <em>âge</em>, un coefficient (<em>sexeHomme</em>)pour l’effet global du sexe et trois coefficients qui sont des moficateurs de l’effet d’âge pour les hommes (<em>grpage[25,45)</em>, <em>grpage[45,65)</em> et <em>grpage[65,99]</em>).</p>
<p>Pour bien interpréter ces coefficients, il faut toujours avoir en tête les modalités choisies comme référence pour chaque variable. Supposons une femme de 60 ans, dont toutes lautres variables correspondent aux modalités de référence (c’est donc une pratiquante régulière, de niveau primaire, qui ne regarde pas la télévision). Regardons ce que prédit le modèle quant à sa probabilité de faire du sport au travers d’une représentation graphique</p>
<figure>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">library</span>(breakDown)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">logit &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">exp</span>(x)<span class="op">/</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">exp</span>(x))</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">nouvelle_observation &lt;-<span class="st"> </span>d[<span class="dv">1</span>, ]</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">nouvelle_observation<span class="op">$</span>sexe[<span class="dv">1</span>] =<span class="st"> &quot;Femme&quot;</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">nouvelle_observation<span class="op">$</span>grpage[<span class="dv">1</span>] =<span class="st"> &quot;[45,65)&quot;</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7">nouvelle_observation<span class="op">$</span>etud[<span class="dv">1</span>] =<span class="st"> &quot;Primaire&quot;</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">nouvelle_observation<span class="op">$</span>relig[<span class="dv">1</span>] =<span class="st"> &quot;Pratiquant regulier&quot;</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9">nouvelle_observation<span class="op">$</span>heures.tv[<span class="dv">1</span>] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="kw">plot</span>(<span class="kw">broken</span>(mod2, nouvelle_observation, <span class="dt">predict.function =</span> betas), <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-8-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour une femme de 60 ans
</figcaption>
</figure>
<p>En premier lieu, l’intercept s’applique et permet de déterminer la probabilité de base de faire du sport (si toutes les variables sont à leur valeur de référence). <q>Femme</q> étant la modalité de référence pour la variable <var>sexe</var>, cela ne modifie pas le calcul de la probabilité de faire du sport. Par contre, il y a une modification induite par la modalité <q>45-65</q> de la variable <var>grpage</var>.</p>
<p>Regardons maintenant la situation d’un homme de 20 ans.</p>
<figure>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">nouvelle_observation<span class="op">$</span>sexe[<span class="dv">1</span>] =<span class="st"> &quot;Homme&quot;</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">nouvelle_observation<span class="op">$</span>grpage[<span class="dv">1</span>] =<span class="st"> &quot;[16,25)&quot;</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">plot</span>(<span class="kw">broken</span>(mod2, nouvelle_observation, <span class="dt">predict.function =</span> betas), <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-9-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour un homme de 20 ans
</figcaption>
</figure>
<p>Nous sommes à la modalité de référence pour l’âge par contre il y a un effet important du sexe. Le coefficient associé globalement à la variable <var>sexe</var> correspond donc à l’effet du sexe à la modalité de référence du groupe d’âges.</p>
<p>La situation est différente pour un homme de 60 ans.</p>
<figure>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">nouvelle_observation<span class="op">$</span>grpage[<span class="dv">1</span>] =<span class="st"> &quot;[45,65)&quot;</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">broken</span>(mod2, nouvelle_observation, <span class="dt">predict.function =</span> betas), <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-10-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour un homme de 60 ans
</figcaption>
</figure>
<p>Cette fois-ci, il y a plusieurs modifications d’effet. On applique en effet à la fois le coefficient <q>sexe = Homme</q> (effet du sexe pour les 15-24 ans), le coefficient <q>grpage = [45-65)</q> qui est l’effet de l’âge pour les femmes de 45-64 ans et le coefficient <q>sexe:grpage = Homme:[45-65)</q> qui indique l’effet spécifique qui s’applique aux hommes de 45-64, d’une part par rapport aux femmes du même et d’autre part par rapport aux hommes de 16-24 ans. L’effet des coefficients d’interaction doivent donc être interprétés par rapport aux autres coefficients du modèle qui s’appliquent, en tenant compte des modalités de référence.</p>
<p>Il est cependant possible d’écrire le même modèle différemment. En effet, <code>sexe * grpage</code> dans la formule du modèle est équivalent à l’écriture <code>sexe + grpage + sexe:grpage</code>, c’est-à-dire à modéliser un coefficient global pour chaque variable plus un des coefficients d’interaction. On aurait pu demander juste des coefficients d’interaction, en ne mettant que <code>sexe:grpage</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">mod3 &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe<span class="op">:</span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<p>Au sens strict, ce modèle explique tout autant le phénomène étudié que le modèle précédent. On peut le vérifier facilement avec <code data-pkg="stats">anova</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">anova</span>(mod2, mod3, <span class="dt">test =</span> <span class="st">&quot;Chisq&quot;</span>)</a></code></pre></div>
<pre><code>Analysis of Deviance Table

Model 1: sport ~ sexe * grpage + etud + heures.tv + relig
Model 2: sport ~ sexe:grpage + etud + heures.tv + relig
  Resid. Df Resid. Dev Df Deviance Pr(&gt;Chi)
1      1977     2193.1                     
2      1977     2193.1  0        0         </code></pre>
<p>De même, les effets modélisés sont les mêmes.</p>
<figure>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod3))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-13-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction simple entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Par contre, regardons d’un peu plus près les coefficients de ce nouveau modèle. Nous allons voir que leur interprétation est légèrement différente.</p>
<figure>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">ggcoef</span>(mod3, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-14-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction simple entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Cette fois-ci, il n’y a plus de coefficients globaux pour la variable <var>sexe</var> ni pour <var>grpage</var> mais des coefficients pour chaque combinaison de ces deux variables.</p>
<figure>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">broken</span>(mod3, nouvelle_observation, <span class="dt">predict.function =</span> betas), <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-15-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour un homme de 40 ans
</figcaption>
</figure>
<p>Cette fois-ci, le coefficient d’interaction fourrnit l’effet global du sexe et de l’âge, et non plus la modification de cette combinaison par rapport aux coefficients globaux. Leur sens est donc différent et il faudra les interpréter en conséquence.</p>
</div>
<div id="un-second-exemple-dinteraction" class="section level2">
<h2>Un second exemple d’interaction</h2>
<p>Intéressons-nous maintenant à l’interaction entre le sexe et le niveau d’étude. L’effet du niveau d’étude diffère-t-il selon l’âge ?</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">mod4 &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">*</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<p>Regardons d’abord les effets.</p>
<figure>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod4))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-17-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction entre le sexe et le niveau d’étude
</figcaption>
</figure>
<p>À première vue, l’effet du niveau d’étude semble être le même chez les hommes et chez les femmes. Ceci dit, cela serait peut être plus lisible si l’on superposait les deux sexe sur un même graphique. Nous allons utiliser la fonction <code data-pkg="ggeffects">ggeffect</code> de l’extension <code class="pkg">ggeffects</code> qui permets de récupérer les effets calculés avec <code data-pkg="effects">effect</code> dans un format utilisable avec <code class="pkg">ggplot2</code>.</p>
<figure>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">library</span>(ggeffects)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">ggeffect</span>(mod4, <span class="kw">c</span>(<span class="st">&quot;etud&quot;</span>, <span class="st">&quot;sexe&quot;</span>)))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-18-1.png" width="1050" />
<figcaption>
Effets du niveau d’étude selon le sexe
</figcaption>
</figure>
<p>Cela confirme ce que l’on suppose. Regardons les coefficients du modèle.</p>
<figure>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">ggcoef</span>(mod4, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-19-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction simple entre le sexe et le niveau d’étude
</figcaption>
</figure>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">odds.ratio</span>(mod4)</a></code></pre></div>
<pre><code>Waiting for profiling to be done...</code></pre>
<pre><code>                                           OR   2.5 %  97.5 %         p    
(Intercept)                           0.45928 0.22781  0.9126 0.0276831 *  
sexeHomme                             1.41659 0.77234  2.5843 0.2558796    
etudSecondaire                        2.24794 1.35296  3.8167 0.0021242 ** 
etudTechnique/Professionnel           3.09244 1.89953  5.1709 9.260e-06 ***
etudSupérieur                         6.59073 4.01753 11.1205 3.307e-13 ***
etudManquant                          5.21288 2.42496 11.4294 2.847e-05 ***
grpage[25,45)                         0.65985 0.41925  1.0364 0.0710897 .  
grpage[45,65)                         0.34249 0.21353  0.5477 7.877e-06 ***
grpage[65,99]                         0.25402 0.14745  0.4350 6.606e-07 ***
heures.tv                             0.88707 0.82985  0.9468 0.0003646 ***
religPratiquant occasionnel           0.97621 0.67318  1.4196 0.8992576    
religAppartenance sans pratique       1.00874 0.71604  1.4266 0.9605105    
religNi croyance ni appartenance      0.82632 0.56489  1.2108 0.3262194    
religRejet                            0.70306 0.39797  1.2297 0.2200263    
religNSP ou NVPR                      0.89563 0.38588  1.9820 0.7904669    
sexeHomme:etudSecondaire              1.37693 0.65003  2.9290 0.4037975    
sexeHomme:etudTechnique/Professionnel 0.87434 0.43790  1.7538 0.7035417    
sexeHomme:etudSupérieur               1.00776 0.49244  2.0725 0.9831280    
sexeHomme:etudManquant                4.28305 1.32153 15.8357 0.0200885 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Si les coefficients associés au niveau d’étude sont significatifs, ceux de l’interaction ne le sont pas (sauf <q>sexeHomme:etudManquant</q>) et celui associé au sexe, précédemment significatif ne l’est plus. Testons avec <code data-pkg="stats">anova</code> si l’interaction est belle et bien significative.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">anova</span>(mod4, <span class="dt">test =</span> <span class="st">&quot;Chisq&quot;</span>)</a></code></pre></div>
<pre><code>Analysis of Deviance Table

Model: binomial, link: logit

Response: sport

Terms added sequentially (first to last)

          Df Deviance Resid. Df Resid. Dev  Pr(&gt;Chi)    
NULL                       1994     2609.2              
sexe       1    16.21      1993     2593.0 5.668e-05 ***
etud       4   319.19      1989     2273.8 &lt; 2.2e-16 ***
grpage     3    49.81      1986     2224.0 8.770e-11 ***
heures.tv  1    13.59      1985     2210.4 0.0002276 ***
relig      5     4.23      1980     2206.2 0.5165401    
sexe:etud  4    10.22      1976     2195.9 0.0368395 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>L’interaction est bien significative mais faiblement. Vu que l’effet du niveau d’étude reste nénamoins très similaire selon le sexe, on peut se demander s’il est pertinent de la conserver.</p>
</div>
<div id="explorer-les-differentes-interactions-possibles" class="section level2">
<h2>Explorer les différentes interactions possibles</h2>
<p>Il peut y avoir de multiples interactions dans un modèle, d’ordre 2 (entre deux variables) ou plus (entre trois variables ou plus). Il est dès lors tentant de tester les multiples interactions possibles de manière itératives afin d’identifier celles à retenir. C’est justement le but de la fonction <code data-pkg="ggmulti">glmulti</code> de l’extension du même nom. <code data-pkg="ggmulti">glmulti</code> permets de tester toutes les combinaisons d’interactions d’ordre 2 dans un modèle, en retenant le meilleur modèle à partir d’un critère spécifié (par défaut l’<df>AIC</dfn>). ATTENTION : le temps de calcul de <code data-pkg="ggmulti">glmulti</code> peut-être long.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">library</span>(glmulti)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">glmulti</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<pre><code>Initialization...
TASK: Exhaustive screening of candidate set.
Fitting...

After 50 models:
Best model: sport~1+grpage+heures.tv+sexe:heures.tv+grpage:heures.tv+etud:heures.tv
Crit= 2284.87861987263
Mean crit= 2406.80086471225

After 100 models:
Best model: sport~1+etud+heures.tv+grpage:heures.tv
Crit= 2267.79462883348
Mean crit= 2360.46497457747

After 150 models:
Best model: sport~1+grpage+etud+heures.tv+sexe:heures.tv
Crit= 2228.88574082404
Mean crit= 2286.60589884071

After 200 models:
Best model: sport~1+grpage+etud+heures.tv+sexe:heures.tv
Crit= 2228.88574082404
Mean crit= 2254.99359340075

After 250 models:
Best model: sport~1+sexe+grpage+etud+heures.tv+etud:sexe+sexe:heures.tv
Crit= 2226.00088609349
Mean crit= 2241.76611580481

After 300 models:
Best model: sport~1+sexe+grpage+etud+heures.tv+grpage:sexe+sexe:heures.tv
Crit= 2222.67161519005
Mean crit= 2234.95020358944</code></pre>
<p>On voit qu’au bout d’un moment, l’algorithme se statibilise autour d’un modèle comportant une interaction entre le sexe et l’âge d’une part et entre le sexe et le nombre d’heures passées quotidiennement devant la télé. On voit également que la variable religion a été retirée du modèle final.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">best &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>grpage<span class="op">:</span>sexe <span class="op">+</span><span class="st"> </span>sexe<span class="op">:</span>heures.tv, </a>
<a class="sourceLine" id="cb35-2" data-line-number="2">  <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="kw">odds.ratio</span>(best)</a></code></pre></div>
<pre><code>Waiting for profiling to be done...</code></pre>
<pre><code>                                  OR    2.5 %  97.5 %         p    
(Intercept)                 0.285395 0.144811  0.5557 0.0002508 ***
sexeHomme                   4.018732 1.808573  9.4145 0.0008949 ***
grpage[25,45)               1.030205 0.591312  1.8184 0.9170428    
grpage[45,65)               0.627599 0.351868  1.1323 0.1171763    
grpage[65,99]               0.493477 0.249106  0.9762 0.0421203 *  
etudSecondaire              2.541989 1.735573  3.7634 2.211e-06 ***
etudTechnique/Professionnel 2.817570 1.956251  4.1137 4.443e-08 ***
etudSupérieur               6.685085 4.588538  9.8796 &lt; 2.2e-16 ***
etudManquant                8.817567 4.575016 17.3668 1.447e-10 ***
heures.tv                   0.845750 0.771519  0.9237 0.0002612 ***
sexeHomme:grpage[25,45)     0.318004 0.134434  0.7155 0.0069626 ** 
sexeHomme:grpage[45,65)     0.242528 0.101362  0.5524 0.0010034 ** 
sexeHomme:grpage[65,99]     0.224635 0.083753  0.5805 0.0024190 ** 
sexeHomme:heures.tv         1.115351 0.979397  1.2705 0.0997266 .  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<figure>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">ggcoef</span>(best, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-24-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction entre le sexe, le niveau d’étude et le nombre d’heures passées devant la télévision
</figcaption>
</figure>
<figure>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(best))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-25-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction entre le sexe, le niveau d’étude et le nombre d’heures passées devant la télévision
</figcaption>
</figure>
</div>
<div id="pour-aller-plus-loin" class="section level2">
<h2>Pour aller plus loin</h2>
<p>Il y a d’autres extensions dédiées à l’analyse des interactions d’un modèle, de même que de nombreux supports de cours en ligne dédiés à cette question.</p>
<p>On pourra en particulier se référer à la vignette inclue avec l’extension <code class="pkg">phia</code> : <a href="https://cran.r-project.org/web/packages/phia/vignettes/phia.pdf" class="uri">https://cran.r-project.org/web/packages/phia/vignettes/phia.pdf</a>.</p>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Pour une présentation plus statistique et mathématique des effets d’interaction, on pourra se référer au <a href="http://commonweb.unifr.ch/artsdean/pub/gestens/f/as/files/4665/9547_131825.pdf">cours de Jean-François Bickel disponible en ligne</a>.<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>

</article>
</div>

<div class="col-sm-3" role="complementary">
<nav class="hidden-print hidden-xs" id="nav_sidebar">
</nav>
</div>

</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href=='') href = 'index.html';
    $('a[href="' + href + '"]').parent().addClass('active');
    $('a[href="' + href + '"]').parent().parents('li').addClass('active');

    // élargir la page d'accueil
    if (href=='index.html') $('.col-sm-9').attr('class','col-sm-12');

    // rechercher
    $("#rechercher").submit(function(event) {
      $('input[name="q"]').val($('input[name="q"]').val() + ' site:larmarange.github.io/analyse-R');
    });

    // sidebar
    $("#nav_sidebar").append($("#TOC").html());
    $("#nav_sidebar ul").addClass("nav nav-stacked");
    $("#TOC").addClass("visible-xs-block");
    $('body').scrollspy({
      target: '#nav_sidebar',
      offset: 40
    });

    // Identifier les <pre> fermant
    $('pre').next("*:not(pre)").prev().addClass('last'); // Dernier <pre> de chaque groupe contigu de <pre>
    $('pre').parent().each(function (){
      $(this).children('pre').last().addClass('last');
    }); // Si <pre> est le dernier enfant de son parent

    // Ajout liens rdocumentation et tooltip
    $("code[data-pkg]").each(function( index ) {
      pkg = $(this).attr('data-pkg');
      if ($(this).attr('data-rdoc') !== undefined) {
        rdocumentation = $(this).attr('data-rdoc');
      } else {
        rdocumentation = $(this).text();
      }
      fonction = $(this).text();
      $(this).wrap('<a href="http://www.rdocumentation.org/packages/'+pkg+'/functions/'+rdocumentation+'">');
      $(this).attr('data-toggle','tooltip');
      $(this).attr('data-placement','top');
      $(this).attr('title','package : ' + pkg);
      $('[data-toggle="tooltip"]').tooltip();
    });

    $("code.pkg").each(function( index ) {
      $(this).wrap('<a href="http://www.rdocumentation.org/packages/'+$(this).text()+'">');
    });

    // Figures
    $("figure").each(function( index ) {
      if ($(this).children("figcaption").length > 0)
        $(this).children("figcaption:first").prepend('<span class="figure-number">Figure '+(index+1)+'.</span> ');
      else
        $(this).append($("<figcaption>").append('<span class="figure-number">Figure '+(index+1)+'</span>'));
    });

    // Colorbox
    jQuery('article div img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).attr('alt');
      }
    });
    jQuery('article div img').css('cursor', 'pointer');
    jQuery('figure img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).parent().children("figcaption").text();
      }
    });
    jQuery('figure img').css('cursor', 'pointer');

    // ZeroClipboard
    $('pre.r').parent().each(function(){
      $(this).children('pre.r').first().before('<div class="zero-clipboard hidden-print hidden-xs"><button class="btn-clipboard">Copier</button></div>');
    }); // Il peut arriver que le pre ne soit pas précédé (cf. figures)
    $('*:not(pre):not(.zero-clipboard) + pre.r').before('<div class="zero-clipboard hidden-print hidden-xs"><button class="btn-clipboard">Copier</button></div>');
    $('pre.last').after(function() {
      if ($(this).hasClass("r")) res = $(this).text(); else res = "";
      $(this).prevUntil('*:not(pre)','pre.r').each(function() {
        res = $(this).text() + '\n' + res;
      });
      return '<div class="clipboard">' + res + '</div>';
    });
    $('.zero-clipboard').each(function(index){
      $(this).children('.btn-clipboard').attr('data-clipboard-target','clipboard_'+index);
      $(this).nextAll("div.clipboard").first().attr('id','clipboard_'+index);
    });
    var client = new ZeroClipboard( $(".btn-clipboard") );
    client.on( "ready", function( readyEvent ) {
      // alert( "ZeroClipboard SWF is ready!" );
      client.on( "aftercopy", function( event ) {
        // `this` === `client`
        // `event.target` === the element that was clicked
        //event.target.style.display = "none";
        $(event.target).parent().before('<div class="alert alert-success"><a href="#" class="close" data-dismiss="alert">&times;</a>Le code <strong>R</strong> de l’exemple a été copié dans le presse-papier.</div>');
      } );
    } );

});
</script>

<!-- disqus -->
<div class="row">
  <div id="disqus_thread" class="col-sm-9" role="complementary"></div>
</div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'analyse-r'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Veuillez activer JavaScript pour voir les <a href="http://disqus.com/?ref_noscript">les commentaires gérés avec Disqus.</a></noscript>
    <!--<a href="http://disqus.com" class="dsq-brlink">Les commentaires sont hébergés par <span class="logo-disqus">Disqus</span>.</a>-->

<footer>
  <div class="row">
    <div class="col-lg-12">
      <p>Contenus sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/" rel="nofollow">Creative Commons Attribution - Pas d’utilisation commerciale - Partage dans les mêmes conditions</a>.<br />
      Propulsé par <a href="http://www.r-project.org/" rel="nofollow">R</a>, </a><a href="http://www.rstudio.com/" rel="nofollow">RStudio</a>, <a href="http://rmarkdown.rstudio.com/" rel="nofollow">R Markdown</a>, <a href="http://yihui.name/knitr/" rel="nofollow">knitr</a>, <a href="http://pandoc.org/" rel="nofollow">pandoc</a> et <a href="http://www.princexml.com/" rel="nofollow">Prince XML</a>. Hébergé par <a href="https://github.com/" rel="nofollow">GitHub</a>.</p>
    </div>
  </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
